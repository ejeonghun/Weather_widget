<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather widget Example</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@500&display=swap" rel="stylesheet"></head>
<body>
  <h3>Weather Widget Example</h3>
  <p>For <a href='https://openweathermap.org/'>Openweathermap.org</a></p>
    <div class="weather-widget" id="weather-widget">
    </div>
    <script>
      var apiURI = "https://raw.githubusercontent.com/ejeonghun/Weather_widget/main/weather_api/Seoul.json";
      function displayWeather(resp) {
        var weatherWidget = document.getElementById('weather-widget');
        weatherWidget.innerHTML = `
          <h3>도시이름: ${resp.name}</h3>
          <h3>현재온도: ${Math.ceil(resp.main.temp)}℃</3>
          <h3>현재습도: ${resp.main.humidity} %</h3>
          <h3 class="weather-description">날씨: ${resp.weather[0].main} - ${resp.weather[0].description}</h3>
          <img src="https://ejeonghun.github.io/Weather_widget/weather_icon/${resp.weather[0].icon}.png" alt="날씨 이미지" class="weather-icon"/>
          <p> </p>
          <h3>바람: ${resp.wind.speed} m/s</h3>
          <h3>구름: ${resp.clouds.all} %</h3>
        `;
      }
    
      $.ajax({
        url: apiURI,
        dataType: "json",
        type: "GET",
        async: "false",
        success: displayWeather
      })
      // ${resp.sys.country} KR 추가하고싶으면 넣어야함
    </script>
    <link rel="stylesheet" type="text/css" href="https://ejeonghun.github.io/Weather_widget/weather_api/style.css">
  <a href='https://github.com/ejeonghun'>Dev Github</a>
</body>
</html>
